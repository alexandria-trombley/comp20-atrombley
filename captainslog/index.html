<!DOCTYPE html>

<html>

<head>

	<title>Captain's Log</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
	<script>

	// determines the date and sends it back to function call
	$(document).ready(function(){

		// get previous messages stored in local storage
		var old = localStorage.getItem("messages");

		// if there are no previous messages stored, start a string for concatonation
		if (old == null) {
			old = " ";
		}

		// log old messages on the screen
		$("#log").html(old);


		function timestamp() {
			var timestamp = new Date();
			return timestamp.toUTCString();
		}

		$("#msg").change(function(event) {
		

			// get input from the web page
			var input = $(this).val();

			// concatonate the message to be posted on the page
			var ConcatMessages = timestamp() + " - " + input + '<br>' + old;

			// put this new string with new message in storage
			localStorage.setItem("messages", ConcatMessages);

			// put new message on the screen
			$("#log").html(ConcatMessages);
		});
	});
	</script>

</head>

<body>

	<h1>Captain's Log</h1>
	<h3>New entry: <input type="text" id="msg" name="msg" size="30" /></h3>
	<div id="log"></div>

</body>

</html>
